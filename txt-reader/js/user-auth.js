eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'[3-9a-df-zA-Y]'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('var i;5 j(){8(typeof 9.d===\'undefined\'){k.7(\'d未定义，请确保indexeddb-helper.js已正确加载\');l}3 v=[{w:\'a\',x:\'4\',indexes:[{w:\'6\',x:\'6\',unique:y}]}];9.d.j(\'UserDB\',1,v).then(z=>{i=z;A()}).B(7=>{k.7(\'IndexedDB初始化错误:\',7)})}5 A(){3 m=i.m(\'a\',\'readonly\');3 C=m.objectStore(\'a\');3 n=C.count();n.onsuccess=5(){8(n.result===0){D()}}}5 D(){3 a=[\'E\',\'F\',\'G\',\'H\'];3 b=I J();3 6=`${b.K()+1}`.f(2,\'0\')+`${b.L()}`.f(2,\'0\');a.forEach(4=>{9.d.addData(\'a\',{4,6}).B(7=>{k.7(\'添加默认用户失败:\',7)})})}5 o(4,6,p){3 M=[\'E\',\'F\',\'G\',\'H\'];8(M.includes(4)){3 b=I J();3 N=`${b.K()+1}`.f(2,\'0\')+`${b.L()}`.f(2,\'0\');p(6===N)}O{p(y)}}5 P(){l q.getItem(\'4\')!==null}5 Q(){q.removeItem(\'4\');9.R.S=\'login.T\'}c.r(\'U\',j);9.auth={o,P,Q};c.r(\'U\',5(){3 g=c.h(\'g\');8(g){g.r(\'submit\',5(e){e.preventDefault();3 V=c.h(\'4\');3 s=c.h(\'6\');3 t=c.h(\'7-message\');3 4=V.u.W();3 6=s.u.W();8(!4||!6){t.X=\'用户名和密码不能为空\';l}o(4,6,5(Y){8(Y){q.setItem(\'4\',4);9.R.S=\'book-shelf.T\'}O{t.X=\'用户名或密码错误\';s.u=\'\'}})})}});',[],61,'|||const|username|function|password|error|if|window|users|today|document|indexedDBHelper||padStart|loginForm|getElementById|db|initDB|console|return|transaction|request|validateLogin|callback|sessionStorage|addEventListener|passwordInput|errorMessage|value|stores|name|keyPath|false|database|checkAndCreateDefaultUsers|catch|store|createDefaultUsers|admin|system|test|guest|new|Date|getMonth|getDate|allowedUsers|expectedPassword|else|isLoggedIn|logout|location|href|html|DOMContentLoaded|usernameInput|trim|textContent|valid'.split('|'),0,{}))
